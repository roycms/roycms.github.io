{"title":"Alamofire请求json数据","slug":"Alamofire请求json数据","date":"2017-04-08T07:49:49.000Z","updated":"2017-04-08T08:08:34.000Z","comments":true,"path":"api/articles/Alamofire请求json数据.json","excerpt":"","content":"<p>项目里用到人脸识别功能，就找了腾讯云的人脸识别，在调用接口时文档明确要求要json数据形式提交数据，我们在和第三方接口打交道经常会遇到这样的标准要求。<br>项目swift写的，请求框架用的是Alamofire在使用时没注意，遇到了点问题，注意下面的这段话</p>\n<blockquote>\n<p>The JSONEncoding type creates a JSON representation of the parameters object, which is set as the HTTP body of the request. The Content-Type HTTP header field of an encoded request is set to application/json.</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">Alamofire.request(&quot;https://httpbin.org/get&quot;, parameters: parameters, encoding: URLEncoding.default)</div></pre></td></tr></table></figure>\n<p>在定义了Content-Type:”application/json”的httpheader头信息后，需要显式声明 encoding: URLEncoding.default 才会正确的采用json格式发送。</p>\n","categories":[],"tags":[]}